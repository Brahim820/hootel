<?xml version="1.0"?>
<odoo>

	<record id="hotel_reservation_view_form" model="ir.ui.view">
        <field name="model">hotel.reservation</field>
        <field name="inherit_id" ref="hotel.view_hotel_reservation_form" />
        <field name="arch" type="xml">
        	<xpath expr="//field[@name='invoice_status']" position="after">
        		<field name="wrid" readonly="True" />
        		<field name="wchannel_id" readonly="True"  />
        		<field name="wchannel_reservation_code" readonly="True" />
        		<field name="wstatus" readonly="True" />
        		<field name="wstatus_reason" readonly="True" />
        	</xpath>
        	
        	<!-- ALLOW ONLY-READ -->
        	<xpath expr="//field" position="attributes">
     			<attribute name="attrs">{'readonly': [('wis_from_channel','=','True')]}</attribute>
        	</xpath>
        </field>
    </record>
    
	<!-- Tree view of hotel reservation -->
    <record model="ir.ui.view" id="view_hotel_reservation_tree">
        <field name="model">hotel.reservation</field>
        <field name="inherit_id" ref="hotel.view_hotel_reservation_tree" />
        <field name="arch" type="xml">
        	<xpath expr="//field[@name='state']" position="before">
                <field name="wrid"/>
                <field name="wstatus"/>
                <field name="wchannel_id"/>
        	</xpath>
        	<xpath expr="//field[@name='state']" position="after">
        		<field name="to_read" invisible="1"/>
        		<button name="mark_as_read" string="Read &amp; Hide" class="oe_highlight" invisible="context.get('to_read')==False"/>
        	</xpath>
        </field>
    </record>
    
</odoo>