<?xml version="1.0" ?>
<odoo>

	<record model="ir.ui.view" id="view_wubook_massive_changes_wizard">
		<field name="name">wubook.wizard.massive.changes</field>
		<field name="model">wubook.wizard.massive.changes</field>
		<field name="arch" type="xml">
			<form string="Massive Changes" >
				<!-- Common Fields -->
				<group>
					<field name="section" required="1" />
					<field name="applied_on" required="1" />
					<field name="virtual_room_ids" widget="many2many_tags" attrs="{'invisible':[('applied_on', '!=', '1')]}" />
				</group>
				<group colspan="8" col="8">
					<field name="date_start" required="1"  colspan="4"/>
					<field name="date_end" required="1" colspan="4" />
					<field name="dmo" required="1" colspan="1" />
					<field name="dtu" required="1" colspan="1" />
					<field name="dwe" required="1" colspan="1" />
					<field name="dth" required="1" colspan="1" />
					<field name="dfr" required="1" colspan="1" />
					<field name="dsa" required="1" colspan="1" />
					<field name="dsu" required="1" colspan="1" />
				</group>
				<!-- Availability Fields -->
				<group col="3" colspan="3" attrs="{'invisible':[('section', '!=', '0')]}">
					<table class="oe_form_group">
						<thead>
							<th width="12%"></th>
							<th></th>
						</thead>
						<tbody>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_avail" /> <label for="avail" string="Avail" /></td>
								<td class="oe_form_group_cell" colspan="3"><field name="avail" attrs="{'readonly':[('change_avail', '=', False)]}" /></td>
							</tr>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_no_ota" /> <label for="avail" string="No OTA" /></td>
								<td class="oe_form_group_cell"><field name="no_ota" attrs="{'readonly':[('change_no_ota', '=', False)]}" /></td>
							</tr>
						</tbody>
					</table>
				</group>
				<!-- Restricion Fields -->
				<group col="4" colspan="4" attrs="{'invisible':[('section', '!=', '1')]}">
					<field name="restriction_id" colspan="4" />
					<table class="oe_form_group" colspan="4">
						<thead>
							<th width="20%"></th>
							<th></th>
						</thead>
						<tbody>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_min_stay" /> <label for="min_stay" string="Stay Min." /></td>
								<td class="oe_form_group_cell" colspan="3"><field name="min_stay" attrs="{'readonly':[('change_min_stay', '=', False)]}" /></td>
							</tr>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_min_stay_arrival" /> <label for="avail" string="Stay Min. Arrival" /></td>
								<td class="oe_form_group_cell"><field name="min_stay_arrival" attrs="{'readonly':[('change_min_stay_arrival', '=', False)]}" /></td>
							</tr>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_max_stay" /> <label for="max_stay" string="Stay Max." /></td>
								<td class="oe_form_group_cell"><field name="max_stay" attrs="{'readonly':[('change_max_stay', '=', False)]}" /></td>
							</tr>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_closed" /> <label for="closed" string="Closed" /></td>
								<td class="oe_form_group_cell"><field name="closed" attrs="{'readonly':[('change_closed', '=', False)]}" /></td>
							</tr>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_closed_departure" /> <label for="closed_departure" string="Closed Departure" /></td>
								<td class="oe_form_group_cell"><field name="closed_departure" attrs="{'readonly':[('change_closed_departure', '=', False)]}" /></td>
							</tr>
							<tr class="oe_form_group_row">
								<td class="oe_form_group_cell oe_form_group_cell_label"><field name="change_closed_arrival" /> <label for="closed_arrival" string="Closed Arrival" /></td>
								<td class="oe_form_group_cell"><field name="closed_arrival" attrs="{'readonly':[('change_closed_arrival', '=', False)]}" /></td>
							</tr>
						</tbody>
					</table>
				</group>
				<!-- Priclist Fields -->
				<group attrs="{'invisible':[('section', '!=', '2')]}">
					<field name="pricelist_id" />
					<field name="price" widget="monetary" />
				</group>
				<footer>
					<button name="massive_change" string="Massive Change" type="object"
						class="oe_highlight" />
					or
					<button string="Cancel" class="oe_link" special="cancel" />
				</footer>
			</form>
		</field>
	</record>

	<record id="action_wubook_massive_change" model="ir.actions.act_window">
		<field name="name">WuBook Massive Change</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">wubook.wizard.massive.changes</field>
		<field name="view_id" ref="view_wubook_massive_changes_wizard"/>
		<field name="view_type">form</field>
		<field name="view_mode">form</field>
		<field name="target">new</field>
	</record>

</odoo>
