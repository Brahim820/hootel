<?xml version="1.0" ?>
<odoo>
  <data>
    <record model="ir.ui.view" id="kellys_report_view">
      <field name="name">kellys.daily.report.view</field>
      <field name="model">kellys</field>
      <field name="arch" type="xml">
        <form string="kellys Daily Report" >
          <group>
            <group>
              <field name="date_start" required="1" />
            </group>
          </group>
          <footer>
            <button name="check_report" string="Generate Report" type="object" class="oe_highlight" />
					or
					<button string="Close" class="oe_link" special="cancel" />
          </footer>
        </form>
      </field>
    </record>
    <act_window
			id="report_kellys_act"
			name="Kellys Daily Report Wizard"
			res_model="kellys"
			view_mode="form"
	/>
    <report
					id="action_report_kellys"
					model="hotel.reservation"
					string="Parte de kellys"
					report_type="qweb-pdf"
					name="report.kellys"
					file="report.kellys"
			/>
      <record id="action_report_kellys" model="ir.actions.report.xml">
          <field name="paperformat_id" ref="report_kellys_paperformat"/>
      </record>
    <template id="report.kellys">
      <div class="page">
        <style>
                    .titulo {
                    	font-size: 1.2em;
                    	text-align: center;
                    }
                    .marco {
                    	border-radius: 47px 10px 10px 10px;
                    	-moz-border-radius: 47px 10px 10px 10px;
                    	-webkit-border-radius: 47px 10px 10px 10px;
                    	border: 3px solid #000000;
                    	padding: 10px 3px;
                    	margin: 3px 0;
                    	width: 100%;
                    	text-align:center;
                    }
                    .client{
                    	border-radius: 10px 0px 0px 10px;
                    	-moz-border-radius: 10px 0px 0px 10px;
                    	-webkit-border-radius: 10px 0px 0px 10px;
                    	border: 1px solid #000000;
                    	color: #FFFFFF;
                    	background-color: rgba(0,0,0,0.50);
                    }
                    .exit{
                    	border-radius: 10px 47px 47px 10px;
                    	-moz-border-radius: 10px 47px 47px 10px;
                    	-webkit-border-radius: 10px 47px 47px 10px;
                    	border: 1px solid #000000;
                    	padding: 20px 0p;
                    	color: #FFFFFF;
                    	background-color: #000000;
                    }
                    .pie{
                    	font-size: 0.5em;
                    }
                    .tipo{
                    	font-size: 1.2em
                    }
                    .notas{
                    	background-color: #FFFFFF;
                    	width: 90% !important;
                    	margin: 3px 4px;
                    	height: 2em;
                    	color:#000000;
                    	text-align:left;
                      font-size: 0.7em;
                    }
                    .habitacion{
                    	font-size: 1.2em;
                    }
                    .datos{
                    	font-size: 0.8em;
                    }
                    .section {
                    	clear: both;
                    	padding: 0px;
                    	margin: 3px 0;
                    }
                    /*  COLUMN SETUP  */
                    .col {
                    	display: block;
                    	float:left;
                    	margin: 1% 0 1% 1.6%;
                    }
                    .col:first-child { margin-left: 0; }
                    /*  GROUPING  */
                    .group:before,
                    .group:after { content:""; display:table; }
                    .group:after { clear:both;}
                    .group { zoom:1; /* For IE 6/7 */ }
                    /*  GRID OF TWO  */
                    .span_2_of_2 {
                    	width: 100%;
                    }
                    .span_1_of_2 {
                    	width: 49.2%;
                    }
                  </style>
          <div class="marco"  align="center">
            <t t-foreach="docs" t-as="o">
              <t t-if= "o_index == 0">
                <div class="titulo" align="center">Habitaciones<br/>
                  <span t-field="o.clean_date" t-field-options='{"format": "d MMMM Y"}'/>
                </div>
              </t>
              <div t-if="o.clean_type == 'client'" class="client section group">
                <div class="habitacion col span_1_of_2">
                  <span t-field="o.product_id"/>
                </div>
                <div class="tipo col span_1_of_2">
                  CLIENTE
                </div>
                <div class="datos col span_2_of_2">
                  Del <span t-field="o.checkin" t-field-options='{"format": "d MMMM"}'/>
                  al <span t-field="o.checkout" t-field-options='{"format": "d MMMM"}'/>
                </div>
                <div class="notas col span_2_of_2" align="left">
                  Notas:
                </div>
              </div>
                <div t-if="o.clean_type == 'exit'" class="exit section group">
                  <div class="habitacion col span_1_of_2">
                    <span t-field="o.product_id"/>
                  </div>
                  <div class="tipo col span_1_of_2">
                    SALIDA
                  </div>
                  <div class="datos col span_2_of_2">
                    Del <span t-field="o.checkin" t-field-options='{"format": "d MMMM"}'/>
                    al <span t-field="o.checkout" t-field-options='{"format": "d MMMM"}'/>
                  </div>
                  <div class="notas col span_2_of_2" align="left">
                    Notas:
                  </div>
                </div>
              </t>
                <div class="pie">
                  Impreso el <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d-%m-%Y a las %H:%M')"/>
                  Habitaciones: <t t-esc="len(docs)" />
                </div>
              </div>
            </div>
          </template>
        </data>
        </odoo>
